# TIL_26/02/06 - Java Class

자바 클래스

## 클래스

어떤 목적을 달성하기 위해 필요한 기능들과 변수들을 하나로 묶은 모듈

정의한 클래스를 필요시 여러 번 호출해 사용해 코드 재사용을 극대화한다.

```java
접근제한자 class ClassName {
	
		변수;
		
		생성자;
		
		메소드;
}
```

### 패키지

- 클래스 파일의 묶음
- 패키지는 계층 구조를 가질 수 있다.
- 같은 이름의 클래스라도 패키지가 다르면 클래스 전체 이름이 달라 다른 클래스가 됨
- 같은 패키지의 다른 클래스는 그냥 사용할 수 있다.
- 다른 패키지의 클래스를 사용하려면 `import`해서 사용한다.

java.lang 패키지에 들어있는 빌트인 클래스는 import 없이도 사용가능하다.(String, Wrapper class 등)

### 클래스 실행

클래스를 사용해 프로그램 실행하려면 `main()` 함수가 필요하다.

메인메소드는 JVM이 프로그램 시작시키기 위해 호출하는 함수!

### 객체

클래스로 기능을 정의했다면, 클래스를 객체로 만들어야 한다.

객체를 코드로 구현한 것이 클래스이다.

### 인스턴스

클래스가 메모리 공간에 생성된 상태

생성된 클래스의 인스턴스를 객체라고도 함

- 클래스의 생성자를 호출하면 인스턴스가 만들어진다.
- 클래스는 하나, 클래스로부터 만들어지는 인스턴스는 각각 다른 여러 인스턴스 생성 가능
- 참조 변수를 사용해 인스턴스 멤버 변수, 메소드를 참조해 사용할 수 있게 됨

### 객체

인스턴스가 생성되고 멤버변수 저장되는 공간 = 힙 영역

클래스의 변수는 스택 영역에 생성됨

변수도 객체도 값을 저장하지만 처리하는 방법이 다르다.

변수는 값을 저장하지만 객체는 값이 아닌 메모리주소를 할당한다.

### 변수 범위

지역변수(Local variable), 멤버변수(Instance Variable)

**멤버변수**

- 클래스 아래 선언되어 클래스 내부에서 자유롭게 사용 가능한 변수

**지역변수**

- 클래스가 아닌 곳의 중괄호 내부에 선언되어 특정 영역에서만 사용 가능한 변수

## 메소드

함수

메소드를 정의한 클래스 객체를 선언하고 `객체명.메소드명`으로 호출해 사용한다.

결과값은 return 키워드로 반환한다.

반환값이 없는 경우 반환 타입을 void로 작성해 사용한다.

### 함수호출

함수 호출하면 스택영역에 할당된다.

**FILO**

맨 마지막에 호출한 함수부터 반환된다.

<br/>

## 접근제한자

**public**, **protected**, **default**, **private**

|접근제한자|**`public`**|**`protected`**|**`default`**|**`private`**|
|---|---|---|---|---|
|클래스 내부|**O**|**O**|**O**|**O**|
|같은 패키지|**O**|**O**|**O**|**X**|
|하위 클래스|**O**|**O**|**X**|**X**|
|그 외 영역|**O**|**X**|**X**|**X**|

### get(), set() 메소드

getter, setter

외부 클래스에서 private 변수에 접근하기 위해 public 메소드로 접근함

→ 정보은닉 실현 가능하다.


## 메소드 오버로딩(_method overloading_)

같은 이름의 메소드를 여러 개 정의하는 것

메소드 이름이 같은데 **매개변수 타입, 개수**가 다른 것

매개변수가 같고 리턴타입이 다른 경우는 성립 x

### 객체 참조

모든 것을 파라미터로 전달 가능

## 생성자

클래스가 객체화될 때 단 한번 실행되는 초기화 메서드

- 클래스를 처음 만들 때 멤버 변수나 상수를 초기화 한다.

`new` 예약어 뒤에 생성자함수로 호출

**생성자 메서드**

1. 클래스와 이름이 똑같다.
2. 리턴 타입이 없다.

클래스 생성 시 딱 한 번 호출된다.

생성자가 없는 클래스도 컴파일 시 자바가 자동으로 기본 생성자(디폴트 생성자)를 만들어 준다.

**생성자 오버로드**

생성자를 오버로드해서 작성할 수 있다.

매개변수 개수, 타입을 다르게 받는 경우에 대해 생성자를 작성해 둘 수 있다.

## this

`this` 키워드

자신(인스턴스)을 지칭하는 키워드

멤버 변수와 파라미터 구분을 위해 사용

## static

힙 영역이 아니라 스태틱 영역에 생성됨

모든 객체가 공유해서 하나의 멤버를 여러 곳에서 참조할 수 있다.

static 변수는 인스턴스보다 먼저 생성된다.

클래스에 속해 한 번만 생성되는 변수이고 여러 인스턴스가 공유한다.

## 싱글톤 패턴

인스턴스를 단 하나만 생성하는 디자인 패턴

싱글톤 구현을 위해 클래스 외부에서 `new` 연산자로 생성자 호출이 불가능하도록 생성자 앞에 private제한자를 붙인다.

프로그램 전체에서 인스턴스 하나만 사용한다.



## 인터페이스

클래스의 규약

클래스가 구현할 수 있는 메소드를 제한시킴으로써 클래스를 다양하게 활용함

상속은 너무 밀접한 관계여서 변경시 자식에게 영향이 크다

추상메소드로 정의해서 정의하면 메소드 구현이 강제화돼서 다 인스턴스화 하지 못하고 구현할 게 많아짐. 관리가 힘들어짐

프로젝트 흐름상 기능 구현을 강제하고 싶고, 밀접도는 느슨하게 하고 싶을 때 이용한다.

디폴트 메소드 → 자바 1.8부터 도입