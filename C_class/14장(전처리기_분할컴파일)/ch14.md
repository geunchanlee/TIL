## 전처리기

몇 가지 전처리기 지시자들 처리

(#) 기호로 시작 

#include <...>

### 단순 매크로
**#define 매크로 텍스트**

매크로를 "텍스트"로 정의

define SIZE 100

define PI 3.14

### 함수 매크로

**#define 매크로(인수1, 인수2, ...) 텍스트**

매크로를 찾아서 텍스트로 바꾼다. 인수는 함수의 인수처럼 동작한다.

일반 함수와 다르게 인수에 타입이 없다. -> 어떤 타입이든 연산자가 처리할 수 있다면 처리 가능

매개변수는 반드시 괄호로 감싸야 이상한 값이 나오지 않음

#define MAX(x,y) ( (x) > (y) ) ? (x) : (y)

#define HALF(x) ( (x)/2 )

증감연산자는 매크로에 사용하지 말자 논리적 오류가 발생함

함수 매크로의 장단점

1. 함수 호출 단계가 필요없어 실행속도가 빠르다.

- 함수라고 볼 수 없고 연산자의 나열이기 때문!

2. 소스 코드의 길이가 길어짐

매크로를 여러 줄로 사용하려면 라인 끝에 **' \ '** 사용

<br>

## 조건 컴파일

### #ifdef

매크로가 정의되어 있으면 #if와 #endif 사이에 있는 모든 문장을 컴파일한다.

- 디버그에 많이 사용 

#define DEBUG 기호상수 정의해두고 프로그램 사이사이에 ifdef를 사용해 정의되어있을때만 출력해주는 방법

#define DEBUG를 주석처리하면 ifdef가 컴파일에 포함되지 않게 된다.

또 다른 예로 리눅스와 윈도우 버전을 만들 때 같은 경우 사용

### #if

기호가 참으로 계산되면 컴파일한다

#ifdef로 처리하기 어려운 여러가지 처리 할때 사용

긴 소스코드에서 주석 처리 할때 사용

### #ifndef

헤더파일의 중복 포함 막기

if not define

이미 정의가 되어있다면 아래 문장으로 넘어가지 않고 endif로 바로 건너뜀

헤더파일 제목을 대문자화하고 . 은 _로 치환해줌

여러 파일을 같이 컴파일해야 할 때 사용한다

<br>

## 다중 소스 파일

단일 소스파일은 프로젝트에서 사용하지 않는다

사용자가 만든 헤더파일은 "" 사용, 컴파일러가 제공하는 헤더파일은 <> 사용

### 외부 변수

전역변수가 한 소스코드에 있을땐 모든 함수들에서 사용 가능하지만 소스코드가 떨어져 있다면 전역변수가 어디에 있는지 알 수 없게 된다.

전역변수를 여러 소스코드에서 사용하려면 extern 지시자를 사용해준다

<br>

## main() 함수

main(void) = 외부로부터 입력받지 않는 형태

main(int argc, char *argv[]) = 외부로부터 입력받는 형태

문법처럼 표준화된 것이므로 함부로 바꾸지 말 것

argc: 인수의 개수 argv: 실질적인 인수

프로그램 이름도 인수


__$ mycopy src dst__

argv[0] = m y c o p y \0 (프로그램 이름)

argv[1] = s r c \0

argv[2] = d s t \0

이 경우 mycopy라는 프로그램 이름도 인수 갯수에 포함됨 argc = 3

